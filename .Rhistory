DOI = c(4)
)
progressQ83 <- rbind(progressQ83_1,
progressQ83_2,
progressQ83_3
) %>%
filter_all(any_vars(!is.na(.)))
progressQ86_pre <- columnSelection %>%
select(pid,
starts_with("Q86")) %>%
pivot_longer(cols = - pid) %>%
na.omit() %>%
mutate(value = str_remove_all(value, c("\\.$"))) %>%
mutate(value = str_remove_all(value, c("\\.^"))) %>%
mutate(value = str_trim(value)) %>%
mutate(value = str_squish(value)) %>%
pivot_wider(id_cols = pid,
names_from = name,
values_from = value)
progressQ86_1 <- progressQ86_pre %>%
select(starts_with("Q86_1")) %>%
rename(Title = c(1),
Event = c(2),
Location = c(3),
Date = c(4),
Authors = c(5)
)
progressQ86_2 <- progressQ86_pre %>%
select(starts_with("Q86_2")) %>%
rename(Title = c(1),
Event = c(2),
Location = c(3),
Date = c(4),
Authors = c(5)
)
progressQ86_3 <- progressQ86_pre %>%
select(starts_with("Q86_3")) %>%
rename(Title = c(1),
Event = c(2),
Location = c(3),
Date = c(4),
Authors = c(5)
)
progressQ86_4 <- progressQ86_pre %>%
select(starts_with("Q86_4")) %>%
rename(Title = c(1),
Event = c(2),
Location = c(3),
Date = c(4),
Authors = c(5)
)
progressQ86_5 <- progressQ86_pre %>%
mutate("Q86_4" = NA) %>%
select(starts_with("Q86_5")) %>%
rename(Title = c(1),
Event = c(2),
Location = c(3),
Date = c(4),
Authors = c(5)
)
progressQ86_5 <- progressQ86_pre %>%
mutate("Q86_4" = NA) %>%
select(starts_with("Q86_5")) %>%
rename(Title = c(1),
Event = c(2),
Location = c(3),
Date = c(4),
Authors = c(5)
)
progressQ86_4
setwd("~/Documents/WVU/Teaching/GitHub.nosync/Workspace/edp613")
xaringan:::inf_mr()
xaringan:::inf_mr()
?add_header_above
xaringan:::inf_mr()
?row_spec(4, background = "#212121") %>%
?footnote
install.packages("compareGroups")
library(compareGroups)
data("predimed")
predimed
view(predimed)
descrTable(predimed)
descrTable(group ~ .)
descrTable(group ~ ., predimed)
table <- descrTable(group ~ ., predimed)
View(table)
descrTable(group ~ ., predimed)
plot(tab["sex"])
tab <- descrTable(group ~ ., predimed)
plot(tab["sex"])
plot(tab["age"])
plot(tab["smoke"])
export2pdf(tab)
export2pdf(tab, "rtab.pdf")
export2csv(tab, "rtab.csv")
library(tidyverse)
data(iris)
View(iris)
iris_ds <- compareGroups(Species ~ ., iris)
createTable(iris_ds)
data(iris)
plot(tab["wth"])
install.packages(c("cpp11", "magick"))
install.packages(c("rentrez", "rstudioapi"))
View(afc_east)
install.packages("colorspace")
#Clear R's Memory
rm(list = ls())
download.file("https://wwwn.cdc.gov/nchs/nhanes/2005-2006/SLQ_D.XPT", sleep<-tempfile(), mode="wb")
download.file("https://wwwn.cdc.gov/nchs/nhanes/2005-2006/SMQ_D.XPT", smoke<-tempfile(), mode="wb")
download.file("https://wwwn.cdc.gov/nchs/nhanes/2005-2006/DEMO_D.XPT", demo<-tempfile(), mode="wb")
download.file("https://wwwn.cdc.gov/nchs/nhanes/2005-2006/BMX_D.XPT", BMI<-tempfile(), mode="wb")
# Create Data Frame From Temporary File
library(foreign)
SleepData=read.xport(sleep)
SmokeData=read.xport(smoke)
DemoData=read.xport(demo)
BMIData=read.xport(BMI)
#variable names and number of rows per dataset
names(SleepData)
nrow(SleepData)
names(SmokeData)
nrow(SmokeData)
names(DemoData)
nrow(DemoData)
names(BMIData)
nrow(BMIData)
library(tidyverse)
###############################################################
#Subset to those older than or equal to 20 to get 4,979 people
################################################################
DemoDataAdult=subset(DemoData,RIDAGEYR>=20)
nrow(DemoDataAdult)
summary(DemoDataAdult$RIDAGEYR)
#####################################################################
#Restrict Datasets
######################################################################
#RIAGENDR - gender
#RIDAGEYR - age
#SEQN: id number for participant (allows linkage to other datasets)
#sleep dataset
#SLD010H - hows of sleep
#SLQ030 - snoring
#SLQ080 - trouble falling asleep
#SLQ090 - waking up at night
#SLQ100 - waking up too early
#SLQ110 - tired during the day
#SLQ120 - sleepiness during the day
#SLQ130 - don't get enough sleep
#SLD060 - sleep disorder
#SLQ230 - difficulty with work
#SLQ200 - difficulty with hobby
#smoke dataset
#SMQ020 - smoked 100 cig. in life
#SMQ040 - current smoker
#SMD070 - number of cig. per day
#BMI dataset
#BMXBMI - BMI
###############################################
#Restrict Data
###############################################
#List the variables in the order in which we want them listed!
RestrictSleepData=subset(SleepData,select=c("SEQN","SLD010H","SLQ030","SLQ080","SLQ090",
"SLQ100","SLQ110","SLQ120",
"SLQ130","SLQ060","SLQ230",
"SLQ200"))
RestrictSmokeData=subset(SmokeData, select=c("SEQN","SMQ020","SMQ040","SMD070"))
RestrictDemoData=subset(DemoDataAdult, select=c("SEQN","RIDAGEYR","RIAGENDR"))
RestrictBMIData=subset(BMIData, select=c("SEQN","BMXBMI"))
###############################################
#Left Join
###############################################
DemoSleepMerge=left_join(x=RestrictDemoData,y=RestrictSleepData,by="SEQN")
head(DemoSleepMerge)
nrow(DemoSleepMerge)
nrow(RestrictDemoData)
nrow(SleepData)
DemoSleepSmokeMerge=left_join(x=DemoSleepMerge,y=RestrictSmokeData,by="SEQN")
head(DemoSleepSmokeMerge)
nrow(DemoSleepSmokeMerge)
nrow(DemoSleepMerge)
nrow(RestrictSmokeData)
DemoSleepSmokeBMIMerge=left_join(x=DemoSleepSmokeMerge,y=RestrictBMIData,by="SEQN")
head(DemoSleepSmokeBMIMerge)
nrow(DemoSleepSmokeBMIMerge)
###############################################
#Remove missing data to get 4,677
###############################################
#BMI(BMXBMI), hours of sleep(SLD010H)
#smoke 100 cigs. has 3 people with a 7 or 9 that need to be excluded
DataWithoutMissing=subset(DemoSleepSmokeBMIMerge, is.na(BMXBMI)==FALSE & is.na(SLD010H)==FALSE & SMQ020!="7" & SMQ020!="9")
nrow(DataWithoutMissing)
###############################################
#Changing Variable Names
###############################################
names(DataWithoutMissing)
names(DataWithoutMissing)=c("ID","Age","Gender","HoursofSleep",
"Snoring","TroubleSleep","WakeAtNight", "WakeTooEarly",
"TiredDay", "SleepyDay", "NotEnoughSleep", "SleepDisorder",
"DiffWork", "DiffHobby", "Smoke100", "CurrentSmoker", "CigPerDay",
"BMI")
head(DataWithoutMissing)
nrow(DataWithoutMissing)
###############################################
#Recode Variables
###############################################
#Recode Age
table(DataWithoutMissing$Age)
summary(DataWithoutMissing$Age)
DataWithoutMissing$AgeGroups = ifelse(DataWithoutMissing$Age >=20 & DataWithoutMissing$Age<40, "20-39",
ifelse(DataWithoutMissing$Age >= 40 & DataWithoutMissing$Age<60, "40-59","60+"))
table(DataWithoutMissing$AgeGroups)
### matches theirs
#Recode Snoring
table(DataWithoutMissing$Snoring)
## for reference her are our Ns for each category
## 0    1    2    3    7    9
# 1288  792  673 1299  2  623
# numbers 1, 2, and 3 should be used to calculate snoring
#1     #2     #3
(792 + 673 + 1299) / 4677 # 60%, not 50%
#2     #3
(673 + 1299) / 4677 #42%, not 50%
DataWithoutMissing$Snoring = ifelse(DataWithoutMissing$Snoring == 1, "Snore",
ifelse(DataWithoutMissing$Snoring == 2, "Snore",
ifelse(DataWithoutMissing$Snoring == 3, "Snore","NoSnore")))
table(DataWithoutMissing$Snoring)
####does not fully replicate it -- > they say snoring was 50% for all, we have 60%
2764/4677
###############################################
#Replicate number that are women
###############################################
#Let's recode the gender variable to have labels
DataWithoutMissing$Gender=ifelse(DataWithoutMissing$Gender==1,"Male","Female")
table(DataWithoutMissing$Gender)
#calculate percentage = 52.2% which DOES replicate
2440/4677
###############################################
#Recode current smoker (1 = everday; 2 = some days; 3 = not at all)
###############################################
# smokign without missing variable creation
DataWithoutMissing$SmokingWOMissing = DataWithoutMissing$CurrentSmoker
DataWithoutMissing$SmokingWOMissing[is.na(DataWithoutMissing$CurrentSmoker)==TRUE] = 3
table(DataWithoutMissing$SmokingWOMissing)
DataWithoutMissing$CurrentSmokerDich = ifelse(DataWithoutMissing$SmokingWOMissing==1 | DataWithoutMissing$SmokingWOMissing==2,
"Current Smoker", "Not a Smoker")
table(DataWithoutMissing$CurrentSmokerDich)
#calculate percentage = 22% which DOES replicate
1026/4677
DataWithoutMissing$Smoke100NEW = ifelse(DataWithoutMissing$Smoke100 == "1" & is.na(DataWithoutMissing$Smoke100)==FALSE, "Former", "NotFormer")
DataWithoutMissing$CurrentvFormer = ifelse(DataWithoutMissing$Smoke100NEW == "Former" & DataWithoutMissing$CurrentSmokerDich == "Not a Smoker", "Former Smoker",
ifelse(DataWithoutMissing$Smoke100NEW == "Former" & DataWithoutMissing$CurrentSmokerDich == "Current Smoker", "Current",
ifelse(DataWithoutMissing$Smoke100NEW == "NotFormer" & DataWithoutMissing$CurrentSmokerDich == "Current Smoker", "Current", "Never")))
table(DataWithoutMissing$CurrentvFormer)     ## matches article
#recat smoking into cig
#DataWithoutMissing$CigPerDay[is.na(DataWithoutMissing$CigPerDay)==TRUE]=0
DataWithoutMissing$SmokingFinal = DataWithoutMissing$CurrentvFormer
DataWithoutMissing$SmokingFinal[DataWithoutMissing$CigPerDay<10 & is.na(DataWithoutMissing$CigPerDay)==FALSE] ="<10"
DataWithoutMissing$SmokingFinal[DataWithoutMissing$CigPerDay >9 & DataWithoutMissing$CigPerDay <20 & is.na(DataWithoutMissing$CigPerDay)==FALSE] ="10-19"
DataWithoutMissing$SmokingFinal[DataWithoutMissing$CigPerDay >= 20 & is.na(DataWithoutMissing$CigPerDay)==FALSE] =">20"
DataWithoutMissing$SmokingFinal[DataWithoutMissing$CurrentvFormer == "Current" & is.na(DataWithoutMissing$CigPerDay)==TRUE] ="Missing"
table(DataWithoutMissing$SmokingFinal)
#table(is.na(DataWithoutMissing$CigPerDay))
######### only for the figure
#FigureOGData = subset(DataWithoutMissing, SmokingFinal != "Missing")
#NFigure = as.numeric(table(FigureOGData$SmokingFinal))
#NFigureOrder = c(NFigure[5],NFigure[4],NFigure[1],NFigure[3],NFigure[2])
#FigureNames = c("Never", "Former", "<10", "10-19", ">20")
#FigureOGData$Snore01 = ifelse(FigureOGData$Snoring == "Snore", 1, 0)
#FigureOGDataFemale = subset(FigureOGData, Gender == "Female")
#FigureOGDataMale = subset(FigureOGData, Gender == "Male")
#SmokingNSnoreFemale = as.numeric(by(FigureOGDataFemale$Snore01, FigureOGDataFemale$SmokingFinal, sum))
#SmokingNSnoreFemaleORDER = c(SmokingNSnoreFemale[5],SmokingNSnoreFemale[4],SmokingNSnoreFemale[1],SmokingNSnoreFemale[3],SmokingNSnoreFemale[2])
#NFigureF = as.numeric(table(FigureOGDataFemale$SmokingFinal))
#NFigureOrderF = c(NFigureF[5],NFigureF[4],NFigureF[1],NFigureF[3],NFigureF[2])
#FigureDataFemale = data.frame(cbind(SmokingGroup = FigureNames, N = NFigureOrderF, NSnore = SmokingNSnoreFemaleORDER, Gender="Female"))
#FigureDataFemale
#SmokingNSnoreMale = as.numeric(by(FigureOGDataMale$Snore01, FigureOGDataMale$SmokingFinal, sum))
#SmokingNSnoreMaleORDER = c(SmokingNSnoreMale[5],SmokingNSnoreMale[4],SmokingNSnoreMale[1],SmokingNSnoreMale[3],SmokingNSnoreMale[2])
#NFigureM = as.numeric(table(FigureOGDataMale$SmokingFinal))
#NFigureOrderM = c(NFigureM[5],NFigureM[4],NFigureM[1],NFigureM[3],NFigureM[2])
#FigureDataMale = data.frame(cbind(SmokingGroup = FigureNames, N = NFigureOrderM, NSnore = SmokingNSnoreMaleORDER, Gender = "Male"))
#FigureDataMale
#FigureData = rbind(FigureDataMale, FigureDataFemale)
###############################################
# MAKING BAR CHART
###############################################
FigureData1 <- FigureData
FigureData1$SmokingGroup <- factor(FigureData1$SmokingGroup,
levels = c("Never", "Former", "<10", "10-19", ">20"))
install.packages("ggplot2")
library(ggplot2)
ggplot(FigureData1, aes(x=SmokingGroup, y=NSnore, fill = Gender)) +
geom_bar(stat="identity", position = "dodge") +
labs(title="Gender, Smoking, and Sleep Disorders", x="Tobacco Smoking (Cig/Day)", y="Snoring (N)")
###############################################
# MAKING BAR CHART #2
###############################################
# change difficulty at work
table(DataWithoutMissing$DiffWork)
Figure2Data = subset(DataWithoutMissing, DiffWork != "1")
Figure2Final = subset(Figure2Data, DiffWork != "9")
table(Figure2Final$DiffWork)
NFigure2Final = as.numeric(table(Figure2Final$DiffWork))
NFigure2Order = c(NFigure2Final[2],NFigure2Final[3],NFigure2Final[4],NFigure2Final[5])
FigureNames = c("None", "Little", "Moderate", "Extreme")
NFigure2Final
ggplot(FigureData1, aes(x=DiffWork, y=NSnore, fill = Gender)) +
geom_bar(stat="identity", position = "dodge")
#labs(title="Gender, Smoking, and Sleep Disorders", x="Tobacco Smoking (Cig/Day)", y="Snoring (N)")
################################
Figure2Data = subset(DataWithoutMissing, DiffWork != "1")
Figure2Final = subset(Figure2Data, DiffWork != "9")
table(Figure2Final$DiffWork)
NFigure2Final = as.numeric(table(Figure2Final$DiffWork))
NFigure2Order = c(NFigure2Final[1],NFigure2Final[2],NFigure2Final[3],NFigure2Final[4])
FigureNames2 = c("None", "Little", "Moderate", "Extreme")
Figure2Final$Smoker01 = ifelse(Figure2Final$CurrentSmokerDich == "Current Smoker", 1, 0)
Figure2FinalFemale = subset(Figure2Final, Gender == "Female")
Figure2FinalMale = subset(Figure2Final, Gender == "Male")
WorkNSmokeFemale = as.numeric(by(Figure2FinalFemale$Smoker01, Figure2FinalFemale$DiffWork, sum))
WorkNSmokeFemaleORDER = c(WorkNSmokeFemale[1],WorkNSmokeFemale[2],WorkNSmokeFemale[3],WorkNSmokeFemale[4])
WSNFigureF = as.numeric(table(Figure2FinalFemale$DiffWork))
WSNFigureOrderF = c(WSNFigureF[1],WSNFigureF[2],WSNFigureF[3],WSNFigureF[4])
Figure2DataFemale = data.frame(cbind(WorkGroup = FigureNames2, N = WSNFigureOrderF, NSmoke = WorkNSmokeFemaleORDER, Gender="Female"))
Figure2DataFemale
WorkNSmokeMale = as.numeric(by(Figure2FinalMale$Smoker01, Figure2FinalMale$DiffWork, sum))
WorkNSmokeMaleORDER = c(WorkNSmokeMale[1],WorkNSmokeMale[2],WorkNSmokeMale[3],WorkNSmokeMale[4])
WSNFigureM = as.numeric(table(Figure2FinalMale$DiffWork))
WSNFigureOrderM = c(WSNFigureM[1],WSNFigureM[2],WSNFigureM[3],WSNFigureM[4])
Figure2DataMale = data.frame(cbind(WorkGroup = FigureNames2, N = WSNFigureOrderM, NSmoke = WorkNSmokeMaleORDER, Gender="Male"))
Figure2DataMale
Figure2Data = rbind(Figure2DataMale, Figure2DataFemale)
######################
# Figure 2 Bar chart
######################
FigureData2 <- Figure2Data
FigureData2$WorkGroup <- factor(FigureData2$WorkGroup,
levels = c("None", "Little", "Moderate", "Extreme"))
install.packages("ggplot2")
library(ggplot2)
ggplot(FigureData2, aes(x=WorkGroup, y=NSmoke, fill = Gender)) +
geom_bar(stat="identity", position = "dodge") +
labs(title="Smokers' Difficulty at Work from Tiredness by Gender", x="Level of Difficulty at Work", y="Smoker (N)") +
scale_y_discrete(breaks = c(100,300))
ggplot(FigureData2, aes(x=WorkGroup, y=NSmoke, fill = Gender)) +
geom_bar(stat="identity", position = "dodge") +
labs(title="Smokers' Difficulty at Work from Tiredness by Gender", x="Level of Difficulty at Work", y="Smoker (N)") +
scale_y_discrete(breaks = c(100,600))
ggplot(FigureData2, aes(x=WorkGroup, y=NSmoke, fill = Gender)) +
geom_bar(stat="identity", position = "dodge") +
labs(title="Smokers' Difficulty at Work from Tiredness by Gender", x="Level of Difficulty at Work", y="Smoker (N)") +
scale_y_discrete(breaks = c(100,600),
labels = c("100", "200", "300", "400", "500", "600"))
ggplot(FigureData2, aes(x=WorkGroup, y=NSmoke, fill = Gender)) +
geom_bar(stat="identity", position = "dodge") +
labs(title="Smokers' Difficulty at Work from Tiredness by Gender", x="Level of Difficulty at Work", y="Smoker (N)") +
scale_y_discrete(labels = c("100", "200", "300", "400", "500", "600"))
FigureData2
ggplot(FigureData2, aes(x=WorkGroup, y=NSmoke, fill = Gender)) +
geom_bar(stat="identity", position = "dodge") +
labs(title="Smokers' Difficulty at Work from Tiredness by Gender",
x="Level of Difficulty at Work",
y="Smoker (N)")
ggplot(FigureData2, aes(x=WorkGroup, fill = Gender)) +
geom_bar(position = "dodge") +
labs(title="Smokers' Difficulty at Work from Tiredness by Gender",
x="Level of Difficulty at Work",
y="Smoker (N)")
ggplot(FigureData2, aes(x=WorkGroup, y=NSmoke, fill = Gender)) +
geom_bar(position = "dodge")
ggplot(FigureData2, aes(x=WorkGroup, y=NSmoke, fill = Gender)) +
geom_bar(stat="identity", position = "dodge")
FigureData2
ggplot(FigureData2, aes(x=WorkGroup, y=NSmoke, fill = Gender)) +
geom_bar(stat="identity", position = "dodge")
ggplot(FigureData2, aes(x=WorkGroup, y=NSmoke, fill = Gender)) +
geom_bar(stat="identity", position = position_dodge()) +
labs(title="Smokers' Difficulty at Work from Tiredness by Gender",
x="Level of Difficulty at Work",
y="Smoker (N)")
ggplot(FigureData2, aes(x=N, y=NSmoke, fill = Gender)) +
geom_bar(stat="identity", position = position_dodge()) +
labs(title="Smokers' Difficulty at Work from Tiredness by Gender",
x="Level of Difficulty at Work",
y="Smoker (N)") +
FigureData2
ggplot(FigureData2, aes(x=Gender, y=NSmoke, fill = Gender)) +
geom_bar(stat="identity", position = position_dodge()) +
labs(title="Smokers' Difficulty at Work from Tiredness by Gender",
x="Level of Difficulty at Work",
y="Smoker (N)") +
FigureData2
ggplot(FigureData2, aes(x=Gender, y=NSmoke, fill = Gender)) +
geom_bar(stat="identity", position = position_dodge())
ggplot(FigureData2, aes(x=WorkGroup, y=NSmoke, fill = Gender)) +
geom_bar(stat="identity", position = position_dodge())
new_data <- FigureData2 %>%
select(-N) %>%
gather(key, value, -Workgroup)
FigureData2
new_data <- FigureData2 %>%
select(-N) %>%
gather(key, value, -WorkGroup)
new_data
FigureData2
FigureData2 %>%
select(-N)
FigureData2 %>%
select(-N) %>%
gather(key, value, -WorkGroup, - Gender)
ggplot(FigureData2, aes(x=WorkGroup, y=NSmoke, fill = Gender)) +
geom_bar(stat="identity", position='dodge')
FigureData2 %>%
select(-N) %>%
ggplot(aes(x=WorkGroup, y=NSmoke, fill = Gender)) +
geom_bar(stat="identity", position='dodge') +
labs(title="Smokers' Difficulty at Work from Tiredness by Gender",
x="Level of Difficulty at Work",
y="Smoker (N)") +
facet_wrap(.~Gender)
FigureData2 %>%
select(-N) %>%
ggplot(aes(x=WorkGroup, y=NSmoke, fill = Gender)) +
geom_bar(stat="identity", position='dodge') +
labs(title="Smokers' Difficulty at Work from Tiredness by Gender",
x="Level of Difficulty at Work",
y="Smoker (N)") +
facet_wrap(.~Gender, scales = free)
FigureData2 %>%
select(-N) %>%
ggplot(aes(x=WorkGroup, y=NSmoke, fill = Gender)) +
geom_bar(stat="identity", position='dodge') +
labs(title="Smokers' Difficulty at Work from Tiredness by Gender",
x="Level of Difficulty at Work",
y="Smoker (N)") +
facet_wrap(.~Gender,
scales = free_x)
?facet_wrap
FigureData2 %>%
select(-N) %>%
ggplot(aes(x=WorkGroup, y=NSmoke, fill = Gender)) +
geom_bar(stat="identity", position='dodge') +
labs(title="Smokers' Difficulty at Work from Tiredness by Gender",
x="Level of Difficulty at Work",
y="Smoker (N)") +
facet_wrap(.~Gender,
scales = "free")
FigureData2 %>%
select(-N) %>%
ggplot(aes(x=WorkGroup, y=NSmoke, fill = Gender)) +
geom_bar(stat="identity", position='dodge') +
labs(title="Smokers' Difficulty at Work from Tiredness by Gender",
x="Level of Difficulty at Work",
y="Smoker (N)") +
facet_wrap(.~Gender)
FigureData2
class(FigureData2)
new_data <- FigureData2 %>%
as_tibble()
new_data
new_data <- FigureData2 %>%
as_tibble() %>%
select(-N) %>%
mutate(NSmoke = as.numeric(NSmoke))
new_data
ggplot(new_data, aes(x=WorkGroup, y=NSmoke, fill = Gender)) +
geom_bar(stat="identity", position='dodge') +
labs(title="Smokers' Difficulty at Work from Tiredness by Gender",
x="Level of Difficulty at Work",
y="Smoker (N)") +
facet_wrap(.~Gender)
ggplot(new_data, aes(x=WorkGroup, y=NSmoke, fill = Gender)) +
geom_bar(stat="identity", position='dodge') +
labs(title="Smokers' Difficulty at Work from Tiredness by Gender",
x="Level of Difficulty at Work",
y="Smoker (N)")
"https://raw.githubusercontent.com/piechartssuck/RWDataSets/master/gss_nasa.csv" %>%
read_csv()
xaringan:::inf_mr()
library(tidyverse)
library(infer)
library(patchwork)
library(viridis)
gss_nasa <- "https://raw.githubusercontent.com/piechartssuck/RWDataSets/master/gss_nasa.csv" %>%
read_csv()
gss_nasa
View(gss_nasa)
names(gss_nasa)
unique(gss_nasa$zodiac)
unique(gss_nasa$happy)
unique(gss_nasa$party)
unique(gss_nasa$space)
gss_select <- gss_nasa %>%
select(party, space)
gss_select
ggplot(gss_select, aes(x = party, fill = space))
ggplot(gss_select, aes(x = party, fill = space)) +
geom_bar()
ggplot(gss_select, aes(x = party, fill = space)) +
geom_bar() +
scale_fill_viridis(discrete = TRUE)
str(gss_select)
factor(gss_select$space)
gss_select <- gss_select %>%
mutate(space = factor(space, level = c("TOO LITTLE",
"ABOUT RIGHT",
"TOO MUCH")))
gss_select
factor(gss_select$space)
factor(gss_thing$space)
