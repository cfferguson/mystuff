<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Walkthroughs | Statistical Methods I</title>
    <link>/walkthroughs/</link>
      <atom:link href="/walkthroughs/index.xml" rel="self" type="application/rss+xml" />
    <description>Walkthroughs</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator>
    <image>
      <url>/img/course_info.png</url>
      <title>Walkthroughs</title>
      <link>/walkthroughs/</link>
    </image>
    
    <item>
      <title>Pipes and the NFL</title>
      <link>/walkthroughs/nfl/nflpipes/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/walkthroughs/nfl/nflpipes/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#an-introduction-to-dplyr&#34;&gt;An Introduction to &lt;code&gt;dplyr&lt;/code&gt;&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#purpose&#34;&gt;Purpose&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#objectives&#34;&gt;Objectives&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#packages&#34;&gt;Packages&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-tidyverse-package&#34;&gt;The Tidyverse Package&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#tidy-data&#34;&gt;Tidy Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#basics&#34;&gt;Basics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-pipe-operator&#34;&gt;The Pipe &lt;code&gt;%&amp;gt;%&lt;/code&gt; Operator&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#gapminder&#34;&gt;Gapminder&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mutate-adds-new-variables&#34;&gt;&lt;code&gt;mutate()&lt;/code&gt; adds new variables&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#try-these-out&#34;&gt;Try These Out&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#group_by-operates-on-groups&#34;&gt;&lt;code&gt;group_by()&lt;/code&gt; operates on groups&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#summarize-with-group_by&#34;&gt;&lt;code&gt;summarize()&lt;/code&gt; with &lt;code&gt;group_by()&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#arrange-orders-columns&#34;&gt;&lt;code&gt;arrange()&lt;/code&gt; orders columns&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#nfl-data-set&#34;&gt;NFL Data Set&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#task&#34;&gt;Task&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#data-science&#34;&gt;Data Science&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#acknowledgements&#34;&gt;Acknowledgements&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

&lt;div id=&#34;an-introduction-to-dplyr&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;An Introduction to &lt;code&gt;dplyr&lt;/code&gt;&lt;/h1&gt;
&lt;div id=&#34;purpose&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Purpose&lt;/h2&gt;
&lt;p&gt;What are some common things you like to do with your data? Maybe remove rows or columns, do calculations and maybe add new columns? This is called &lt;strong&gt;data wrangling&lt;/strong&gt;. It’s not data management or data manipulation: you &lt;strong&gt;keep the raw data raw&lt;/strong&gt; and do these things programatically in R with the &lt;code&gt;tidyverse&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;You are going to be introduced to data wrangling in R without using the base package, or “Base R.” The &lt;code&gt;tidyverse&lt;/code&gt; is a suite of packages that match a philosophy of data science developed by Hadley Wickham and the RStudio team. It is a more straight-forward way to learn R. I encourage you to take a look around the &lt;code&gt;tidyverse&lt;/code&gt; web page just to see everything it can do. You can fine it here: &lt;a href=&#34;https://www.tidyverse.org/&#34;&gt;https://www.tidyverse.org/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Now that you have had two weeks of utter frustration with “Base R”, which means, in R without using any additional packages (though we have used a bit of tidyverse), I will show you by comparison what code will look like in “Base R”. For some things, base-R is more straightforward and where tat is apparent, I will note it. Whenever we use a function that is from the &lt;code&gt;tidyverse&lt;/code&gt;, we will prefix it so you’ll know for sure.&lt;/p&gt;
&lt;div id=&#34;objectives&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Objectives&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;discuss tidying data&lt;/li&gt;
&lt;li&gt;read data from a &lt;code&gt;csv&lt;/code&gt; file into R&lt;/li&gt;
&lt;li&gt;explore &lt;code&gt;gapminder&lt;/code&gt; data with base-R functions&lt;/li&gt;
&lt;li&gt;wrangle &lt;code&gt;gapminder&lt;/code&gt; data with &lt;code&gt;dplyr&lt;/code&gt; from the &lt;code&gt;tidyverse&lt;/code&gt; family of functions&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;packages&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Packages&lt;/h3&gt;
&lt;p&gt;Please load up the following packages&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## ── Attaching packages ─────── tidyverse 1.3.0 ──&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## ✓ ggplot2 3.3.2     ✓ purrr   0.3.4
## ✓ tibble  3.0.3     ✓ dplyr   1.0.2
## ✓ tidyr   1.1.2     ✓ stringr 1.4.0
## ✓ readr   1.3.1     ✓ forcats 0.5.0&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## ── Conflicts ────────── tidyverse_conflicts() ──
## x dplyr::filter()     masks stats::filter()
## x dplyr::group_rows() masks kableExtra::group_rows()
## x dplyr::lag()        masks stats::lag()&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(gapminder)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Remember to download them if you receive an error:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;install.packages(&amp;quot;tidyverse&amp;quot;)
install.packages(&amp;quot;gapminder&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;the-tidyverse-package&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The Tidyverse Package&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;tidyverse&lt;/code&gt; package is actually a family of packages that have been constructed to take all kinds of data sets in multiple formats and to &lt;strong&gt;tidy&lt;/strong&gt; them. Before we get into that concept, the typical path that we take when working with real world data sets is relatively simple…&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/R/R3.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;…yet the process can be extremely complex and time consuming as described below:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Data scientists, according to interviews and expert estimates, spend from 50 percent to 80 percent of their time mired in the mundane labor of collecting and preparing data, before it can be explored for useful information &lt;a href=&#34;http://www.nytimes.com/2014/08/18/technology/for-big-data-scientists-hurdle-to-insights-is-janitor-work.html&#34;&gt;(NYTimes, 2014)&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;tidyverse&lt;/code&gt; provides packages - given in &lt;span style=&#34; font-weight: bold;    color: #28453B !important;&#34;&gt;green&lt;/span&gt; - that address all of these notions, but we won’t even be able to scratch the surface of most of them.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/R/R4.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In this walk through, we’ll be concentrating on the use of pipes using the &lt;code&gt;dplyr&lt;/code&gt;.&lt;/p&gt;
&lt;div style=&#34;page-break-after: always;&#34;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;tidy-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Tidy Data&lt;/h2&gt;
&lt;p&gt;Let’s start off discussing &lt;strong&gt;tidy data&lt;/strong&gt; which has simple convention: put variables in the columns and observations in the rows - amazing right?&lt;/p&gt;
&lt;p&gt;There are three interrelated rules which make a data set tidy:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Each variable must have its own column.&lt;/li&gt;
&lt;li&gt;Each observation must have its own row.&lt;/li&gt;
&lt;li&gt;Each value must have its own cell.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;/img/R/R2.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We are going to wrangle - yup that is a real term for messing with the structure of data - a tidy-ish data set (the &lt;strong&gt;Mutate&lt;/strong&gt; part of the cycle), and then come back to tidying messy data using &lt;code&gt;tidyr&lt;/code&gt; once we’ve gotten it into proper form.&lt;/p&gt;
&lt;p&gt;Conceptually, making data tidy first is really critical. Instead of building your analyses around whatever format your data are in, we’ll take deliberate steps to make your data tidy. When your data are in this format, you can use a growing assortment of powerful analytical and visualization tools instead of inventing home-grown ways to accommodate your data. This will save you time since you aren’t reinventing the wheel, and will make your work more clear and understandable to your collaborators. Additionally after struggling with Base R and its arduous process, pipes will probably be something you welcome!&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;basics&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Basics&lt;/h2&gt;
&lt;p&gt;There are six functions in &lt;code&gt;dplyr&lt;/code&gt; that you will primarily use to wrangle data. Remember that variables are the column names while observations are the values within a column.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the &lt;strong&gt;&lt;code&gt;filter()&lt;/code&gt;&lt;/strong&gt; command which let’s you pick observations by their values.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;/img/R/R5.png&#34; style=&#34;width:75.0%&#34; /&gt;&lt;/p&gt;
&lt;div style=&#34;page-break-after: always;&#34;&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;the &lt;strong&gt;&lt;code&gt;select()&lt;/code&gt;&lt;/strong&gt; command which let’s you pick variables by their names.&lt;br /&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;/img/R/R6.png&#34; style=&#34;width:75.0%&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the &lt;strong&gt;&lt;code&gt;mutate()&lt;/code&gt;&lt;/strong&gt; command which let’s you create new variables with functions of existing variables.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;/img/R/R7.png&#34; style=&#34;width:75.0%&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the &lt;strong&gt;&lt;code&gt;summarise()&lt;/code&gt;&lt;/strong&gt; command which let’s you collapse multiple values to a single summary.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;/img/R/R8.png&#34; style=&#34;width:75.0%&#34; /&gt;&lt;/p&gt;
&lt;div style=&#34;page-break-after: always;&#34;&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;the &lt;strong&gt;&lt;code&gt;group_by()&lt;/code&gt;&lt;/strong&gt; command which let’s you perform operations with respect to a variable.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;/img/R/R9.png&#34; style=&#34;width:75.0%&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the &lt;strong&gt;&lt;code&gt;arrange()&lt;/code&gt;&lt;/strong&gt; command which let’s you reorder the rows of a data frame.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(nope there isn’t a picture for this)
&lt;br&gt;
Should you memorize these? NO! NEVER! DON’T DO IT! That’s what the internet is for! As with any data set, the main objective is to logically think about what you can do to achieve a goal. The commands are simply paths you could take to get there.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;the-pipe-operator&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The Pipe &lt;code&gt;%&amp;gt;%&lt;/code&gt; Operator&lt;/h2&gt;
&lt;p&gt;Pipes are a logical operator from the &lt;code&gt;magrittr&lt;/code&gt; package that allows you to pass logic down a chain. Find that confusing? Let’s try to explain it another way:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;I %&amp;gt;% 
  woke up %&amp;gt;%
  showered %&amp;gt;%
  got dressed %&amp;gt;%
  ate breakfast %&amp;gt;%
  showed up for work&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here every act is dependent on all of the previous acts. This essentially signifies what pipes do, in that you can fit multiple commands in a row without having to do them one by one as in Base R. Pipes are given by the &lt;code&gt;%&amp;gt;%&lt;/code&gt; symbol. In RStudio, the keyboard shortcut for a pipe is&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Cmd + Shift + M (Mac or Linux)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ctrl + Shift + M (Windows)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;gapminder&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Gapminder&lt;/h3&gt;
&lt;p&gt;In this walk through, we’ll be using &lt;a href=&#34;http://www.gapminder.org/world&#34;&gt;Gapminder data&lt;/a&gt;, which represents the health and wealth of nations. It was pioneered by &lt;a href=&#34;https://www.ted.com/speakers/hans_rosling&#34;&gt;Hans Rosling&lt;/a&gt;, who is famous for describing the prosperity of nations over time through famines, wars and other historic events with an interactive data visualization in his &lt;a href=&#34;https://www.ted.com/talks/hans_rosling_shows_the_best_stats_you_ve_ever_seen&#34;&gt;2006 TED Talk: The best stats you’ve ever seen&lt;/a&gt; which you can access by selecting the image on the next page.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.gapminder.org/world&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;/img/R/R1.png&#34; alt=&#34;Gapminder Motion Chart&#34; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Let’s take a look at the gapminder data set.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;head(gapminder)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 6
##   country     continent  year lifeExp      pop gdpPercap
##   &amp;lt;fct&amp;gt;       &amp;lt;fct&amp;gt;     &amp;lt;int&amp;gt;   &amp;lt;dbl&amp;gt;    &amp;lt;int&amp;gt;     &amp;lt;dbl&amp;gt;
## 1 Afghanistan Asia       1952    28.8  8425333      779.
## 2 Afghanistan Asia       1957    30.3  9240934      821.
## 3 Afghanistan Asia       1962    32.0 10267083      853.
## 4 Afghanistan Asia       1967    34.0 11537966      836.
## 5 Afghanistan Asia       1972    36.1 13079460      740.
## 6 Afghanistan Asia       1977    38.4 14880372      786.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now using pipes, we could have done&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;% 
  head()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 6
##   country     continent  year lifeExp      pop gdpPercap
##   &amp;lt;fct&amp;gt;       &amp;lt;fct&amp;gt;     &amp;lt;int&amp;gt;   &amp;lt;dbl&amp;gt;    &amp;lt;int&amp;gt;     &amp;lt;dbl&amp;gt;
## 1 Afghanistan Asia       1952    28.8  8425333      779.
## 2 Afghanistan Asia       1957    30.3  9240934      821.
## 3 Afghanistan Asia       1962    32.0 10267083      853.
## 4 Afghanistan Asia       1967    34.0 11537966      836.
## 5 Afghanistan Asia       1972    36.1 13079460      740.
## 6 Afghanistan Asia       1977    38.4 14880372      786.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here are some others using the &lt;code&gt;filter&lt;/code&gt; and &lt;code&gt;select&lt;/code&gt; commands with multiple steps:&lt;/p&gt;
&lt;div style=&#34;page-break-after: always;&#34;&gt;&lt;/div&gt;
&lt;div id=&#34;no-pipes&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;No Pipes&lt;/h4&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapusa_filter &amp;lt;- filter(gapminder, country == &amp;quot;United States&amp;quot;)

gapusa_filter&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 12 x 6
##    country       continent  year lifeExp       pop gdpPercap
##    &amp;lt;fct&amp;gt;         &amp;lt;fct&amp;gt;     &amp;lt;int&amp;gt;   &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;     &amp;lt;dbl&amp;gt;
##  1 United States Americas   1952    68.4 157553000    13990.
##  2 United States Americas   1957    69.5 171984000    14847.
##  3 United States Americas   1962    70.2 186538000    16173.
##  4 United States Americas   1967    70.8 198712000    19530.
##  5 United States Americas   1972    71.3 209896000    21806.
##  6 United States Americas   1977    73.4 220239000    24073.
##  7 United States Americas   1982    74.6 232187835    25010.
##  8 United States Americas   1987    75.0 242803533    29884.
##  9 United States Americas   1992    76.1 256894189    32004.
## 10 United States Americas   1997    76.8 272911760    35767.
## 11 United States Americas   2002    77.3 287675526    39097.
## 12 United States Americas   2007    78.2 301139947    42952.&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapusa_select &amp;lt;- select(gapusa_filter, -continent, -lifeExp)

gapusa_select&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 12 x 4
##    country        year       pop gdpPercap
##    &amp;lt;fct&amp;gt;         &amp;lt;int&amp;gt;     &amp;lt;int&amp;gt;     &amp;lt;dbl&amp;gt;
##  1 United States  1952 157553000    13990.
##  2 United States  1957 171984000    14847.
##  3 United States  1962 186538000    16173.
##  4 United States  1967 198712000    19530.
##  5 United States  1972 209896000    21806.
##  6 United States  1977 220239000    24073.
##  7 United States  1982 232187835    25010.
##  8 United States  1987 242803533    29884.
##  9 United States  1992 256894189    32004.
## 10 United States  1997 272911760    35767.
## 11 United States  2002 287675526    39097.
## 12 United States  2007 301139947    42952.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;with-pipes&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;With Pipes&lt;/h4&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapusa &amp;lt;- gapminder %&amp;gt;% 
  filter(country == &amp;quot;United States&amp;quot;) %&amp;gt;%
  select(-continent, -lifeExp) 

gapusa&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 12 x 4
##    country        year       pop gdpPercap
##    &amp;lt;fct&amp;gt;         &amp;lt;int&amp;gt;     &amp;lt;int&amp;gt;     &amp;lt;dbl&amp;gt;
##  1 United States  1952 157553000    13990.
##  2 United States  1957 171984000    14847.
##  3 United States  1962 186538000    16173.
##  4 United States  1967 198712000    19530.
##  5 United States  1972 209896000    21806.
##  6 United States  1977 220239000    24073.
##  7 United States  1982 232187835    25010.
##  8 United States  1987 242803533    29884.
##  9 United States  1992 256894189    32004.
## 10 United States  1997 272911760    35767.
## 11 United States  2002 287675526    39097.
## 12 United States  2007 301139947    42952.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;By using multiple lines you can actually read this like a story and there aren’t temporary variables that get confusing. This reads like:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“start with the &lt;code&gt;gapminder&lt;/code&gt; data,
and then filter for the United States,
and lastly drop the variables continent and lifeExp.”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;mutate-adds-new-variables&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;mutate()&lt;/code&gt; adds new variables&lt;/h3&gt;
&lt;p&gt;Let’s say we needed to add an index column so we know which order these data came in. Let’s not make a new variable, let’s add a column to our gapminder data frame. How do we do that? With the &lt;code&gt;mutate()&lt;/code&gt; function.&lt;/p&gt;
&lt;p&gt;Imagine we want to know each country’s annual GDP. We can multiply &lt;code&gt;pop&lt;/code&gt; by &lt;code&gt;gdpPercap&lt;/code&gt; to create a new column named &lt;code&gt;gdp&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
  mutate(gdp = pop * gdpPercap)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1,704 x 7
##    country     continent  year lifeExp      pop gdpPercap          gdp
##    &amp;lt;fct&amp;gt;       &amp;lt;fct&amp;gt;     &amp;lt;int&amp;gt;   &amp;lt;dbl&amp;gt;    &amp;lt;int&amp;gt;     &amp;lt;dbl&amp;gt;        &amp;lt;dbl&amp;gt;
##  1 Afghanistan Asia       1952    28.8  8425333      779.  6567086330.
##  2 Afghanistan Asia       1957    30.3  9240934      821.  7585448670.
##  3 Afghanistan Asia       1962    32.0 10267083      853.  8758855797.
##  4 Afghanistan Asia       1967    34.0 11537966      836.  9648014150.
##  5 Afghanistan Asia       1972    36.1 13079460      740.  9678553274.
##  6 Afghanistan Asia       1977    38.4 14880372      786. 11697659231.
##  7 Afghanistan Asia       1982    39.9 12881816      978. 12598563401.
##  8 Afghanistan Asia       1987    40.8 13867957      852. 11820990309.
##  9 Afghanistan Asia       1992    41.7 16317921      649. 10595901589.
## 10 Afghanistan Asia       1997    41.8 22227415      635. 14121995875.
## # … with 1,694 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;try-these-out&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Try These Out&lt;/h3&gt;
&lt;div id=&#34;on-your-own-1&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;On Your Own 1&lt;/h4&gt;
&lt;p&gt;Try to figure this out by yourself using pipes and only the &lt;code&gt;filter&lt;/code&gt;, &lt;code&gt;mutate&lt;/code&gt;, and &lt;code&gt;select&lt;/code&gt; commands. Compare your syntax with the syntax below. Remember! There are multiple ways to go about finding the outcome.&lt;/p&gt;
&lt;center&gt;
&lt;em&gt;Calculate the population in thousands for all European countries in the year 2007 and add it as a new column.&lt;/em&gt;
&lt;/center&gt;
&lt;br&gt;
&lt;details&gt;
&lt;p&gt;&lt;summary&gt;Possible solution&lt;/summary&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
  filter(continent == &amp;quot;Europe&amp;quot;,
         year == 2007) %&amp;gt;%
  mutate(pop_thousands = pop/1000) %&amp;gt;%
  select(country, year, pop_thousands) #this cleans up the dataframe but isn&amp;#39;t necessary&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 30 x 3
##    country                 year pop_thousands
##    &amp;lt;fct&amp;gt;                  &amp;lt;int&amp;gt;         &amp;lt;dbl&amp;gt;
##  1 Albania                 2007         3601.
##  2 Austria                 2007         8200.
##  3 Belgium                 2007        10392.
##  4 Bosnia and Herzegovina  2007         4552.
##  5 Bulgaria                2007         7323.
##  6 Croatia                 2007         4493.
##  7 Czech Republic          2007        10229.
##  8 Denmark                 2007         5468.
##  9 Finland                 2007         5238.
## 10 France                  2007        61084.
## # … with 20 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;p&gt;&lt;br&gt;
If you got it, that’s great! However, it’s absolutely fine if you did not. The best way to learn is to practice (and possibly yell at your computer a few times if that helps).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;group_by-operates-on-groups&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;group_by()&lt;/code&gt; operates on groups&lt;/h3&gt;
&lt;p&gt;What if we wanted to know the total population on each continent in 2002? Answering this question requires a &lt;strong&gt;grouping variable&lt;/strong&gt;. By using &lt;code&gt;group_by()&lt;/code&gt; we can set our grouping variable to &lt;code&gt;continent&lt;/code&gt; and create a new column called &lt;code&gt;cont_pop&lt;/code&gt; that will add up all country populations by their associated continents.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
  filter(year == 2002) %&amp;gt;%
  group_by(continent) %&amp;gt;% 
  mutate(cont_pop = sum(pop))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 142 x 7
## # Groups:   continent [5]
##    country     continent  year lifeExp       pop gdpPercap   cont_pop
##    &amp;lt;fct&amp;gt;       &amp;lt;fct&amp;gt;     &amp;lt;int&amp;gt;   &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;     &amp;lt;dbl&amp;gt;      &amp;lt;dbl&amp;gt;
##  1 Afghanistan Asia       2002    42.1  25268405      727. 3601802203
##  2 Albania     Europe     2002    75.7   3508512     4604.  578223869
##  3 Algeria     Africa     2002    71.0  31287142     5288.  833723916
##  4 Angola      Africa     2002    41.0  10866106     2773.  833723916
##  5 Argentina   Americas   2002    74.3  38331121     8798.  849772762
##  6 Australia   Oceania    2002    80.4  19546792    30688.   23454829
##  7 Austria     Europe     2002    79.0   8148312    32418.  578223869
##  8 Bahrain     Asia       2002    74.8    656397    23404. 3601802203
##  9 Bangladesh  Asia       2002    62.0 135656790     1136. 3601802203
## 10 Belgium     Europe     2002    78.3  10311970    30486.  578223869
## # … with 132 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Sure this great but what if we don’t care about the other columns and only want each continent and their population in 2002? That leads us to the next function:&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;summarize-with-group_by&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;summarize()&lt;/code&gt; with &lt;code&gt;group_by()&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;We want to operate on a group, but actually collapse or distill the output from that group. The &lt;code&gt;summarize()&lt;/code&gt; function will do that for us.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
  group_by(continent) %&amp;gt;%
  summarize(cont_pop = sum(pop)) %&amp;gt;%
  ungroup()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 5 x 2
##   continent    cont_pop
##   &amp;lt;fct&amp;gt;           &amp;lt;dbl&amp;gt;
## 1 Africa     6187585961
## 2 Americas   7351438499
## 3 Asia      30507333901
## 4 Europe     6181115304
## 5 Oceania     212992136&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;summarize()&lt;/code&gt; will actually only keep the columns that are grouped_by or summarized. So if we wanted to keep other columns, we’d have to do have a few more steps. &lt;code&gt;ungroup()&lt;/code&gt; removes the grouping and it’s good to get in the habit of using it after a &lt;code&gt;group_by()&lt;/code&gt; because R remembers! We can use more than one grouping variable. Let’s get total populations by &lt;strong&gt;continent&lt;/strong&gt; and &lt;strong&gt;year&lt;/strong&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
  group_by(continent, year) %&amp;gt;%
  summarize(cont_pop = sum(as.numeric(pop))) %&amp;gt;%
  ungroup()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` regrouping output by &amp;#39;continent&amp;#39; (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 60 x 3
##    continent  year  cont_pop
##    &amp;lt;fct&amp;gt;     &amp;lt;int&amp;gt;     &amp;lt;dbl&amp;gt;
##  1 Africa     1952 237640501
##  2 Africa     1957 264837738
##  3 Africa     1962 296516865
##  4 Africa     1967 335289489
##  5 Africa     1972 379879541
##  6 Africa     1977 433061021
##  7 Africa     1982 499348587
##  8 Africa     1987 574834110
##  9 Africa     1992 659081517
## 10 Africa     1997 743832984
## # … with 50 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;arrange-orders-columns&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;arrange()&lt;/code&gt; orders columns&lt;/h3&gt;
&lt;p&gt;This is ordered alphabetically, which is helpful in certain circumstances. But let’s say we wanted to order it in ascending order for &lt;code&gt;year&lt;/code&gt;. The dplyr function to do that is &lt;code&gt;arrange()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
  group_by(continent, year) %&amp;gt;%
  summarize(cont_pop = sum(as.numeric(pop))) %&amp;gt;%
  arrange(year) %&amp;gt;%
  ungroup()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` regrouping output by &amp;#39;continent&amp;#39; (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 60 x 3
##    continent  year   cont_pop
##    &amp;lt;fct&amp;gt;     &amp;lt;int&amp;gt;      &amp;lt;dbl&amp;gt;
##  1 Africa     1952  237640501
##  2 Americas   1952  345152446
##  3 Asia       1952 1395357351
##  4 Europe     1952  418120846
##  5 Oceania    1952   10686006
##  6 Africa     1957  264837738
##  7 Americas   1957  386953916
##  8 Asia       1957 1562780599
##  9 Europe     1957  437890351
## 10 Oceania    1957   11941976
## # … with 50 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;on-your-own-2&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;On Your Own 2&lt;/h4&gt;
&lt;p&gt;Try to figure this out by yourself using pipes and some if not all of the commands introduced above. Compare your syntax with the script &lt;strong&gt;On Your Own (Pipes and the NFL) Syntax Set.R&lt;/strong&gt;. Remember! There are multiple ways to go about finding the outcome.&lt;/p&gt;
&lt;center&gt;
&lt;em&gt;Now what is the maximum GDP per continent across all years?&lt;/em&gt;
&lt;/center&gt;
&lt;br&gt;
&lt;details&gt;
&lt;p&gt;&lt;summary&gt;Possible solution&lt;/summary&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gapminder %&amp;gt;%
  mutate(gdp = pop * gdpPercap) %&amp;gt;%
  group_by(continent) %&amp;gt;%
  mutate(max_gdp = max(gdp)) %&amp;gt;%
  filter(gdp == max_gdp) %&amp;gt;%
  select(-country)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 5 x 7
## # Groups:   continent [5]
##   continent  year lifeExp        pop gdpPercap     gdp max_gdp
##   &amp;lt;fct&amp;gt;     &amp;lt;int&amp;gt;   &amp;lt;dbl&amp;gt;      &amp;lt;int&amp;gt;     &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;
## 1 Oceania    2007    81.2   20434176    34435. 7.04e11 7.04e11
## 2 Asia       2007    73.0 1318683096     4959. 6.54e12 6.54e12
## 3 Africa     2007    71.3   80264543     5581. 4.48e11 4.48e11
## 4 Europe     2007    79.4   82400996    32170. 2.65e12 2.65e12
## 5 Americas   2007    78.2  301139947    42952. 1.29e13 1.29e13&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;nfl-data-set&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;NFL Data Set&lt;/h2&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Grab the data set&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;:
&lt;a href=&#34;/data/R/2014-average-ticket-price.csv&#34;&gt;&lt;code&gt;2014-average-ticket-price&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Save it in the same place as your script.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Load it up in R&lt;a href=&#34;#fn2&#34; class=&#34;footnote-ref&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;:&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;nfl2014 &amp;lt;- read_csv(&amp;quot;2014-average-ticket-price.csv&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Parsed with column specification:
## cols(
##   Event = col_character(),
##   Division = col_character(),
##   `Avg TP, $` = col_double()
## )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To make a good habit, let’s check the file’s characteristics. This is a good habit and can alleviate some pains down the line. It is recommended you run these simple checks on any data set.&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Check that your set is in a data frame format and get information about your columns and their types (character, numeric, or factor) by running&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str(nfl2014)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## tibble [108 × 3] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ Event    : chr [1:108] &amp;quot;Baltimore Ravens at Pittsburgh Steelers Tickets on 02-Nov-2014 (9037819)&amp;quot; &amp;quot;Pittsburgh Steelers at Baltimore Ravens Tickets on 11-Sep-2014 (9037835)&amp;quot; &amp;quot;Cleveland Browns at Pittsburgh Steelers Tickets on 07-Sep-2014 (9037806)&amp;quot; &amp;quot;Cincinnati Bengals at Pittsburgh Steelers Tickets on 28-Dec-2014 (9037828)&amp;quot; ...
##  $ Division : chr [1:108] &amp;quot;AFC North&amp;quot; &amp;quot;AFC North&amp;quot; &amp;quot;AFC North&amp;quot; &amp;quot;AFC North&amp;quot; ...
##  $ Avg TP, $: num [1:108] 202 199 196 164 148 137 135 102 89 83 ...
##  - attr(*, &amp;quot;spec&amp;quot;)=
##   .. cols(
##   ..   Event = col_character(),
##   ..   Division = col_character(),
##   ..   `Avg TP, $` = col_double()
##   .. )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or you can do&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;glimpse(nfl2014)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Rows: 108
## Columns: 3
## $ Event       &amp;lt;chr&amp;gt; &amp;quot;Baltimore Ravens at Pittsburgh Steelers Tickets on 02-No…
## $ Division    &amp;lt;chr&amp;gt; &amp;quot;AFC North&amp;quot;, &amp;quot;AFC North&amp;quot;, &amp;quot;AFC North&amp;quot;, &amp;quot;AFC North&amp;quot;, &amp;quot;AFC …
## $ `Avg TP, $` &amp;lt;dbl&amp;gt; 202, 199, 196, 164, 148, 137, 135, 102, 89, 83, 83, 81, 2…&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So we do have a data frame with 108 rows and three columns as well as two columns that are made up of characters (i.e. letters) and one that is numeric, or made of numbers. These columns are actually called &lt;strong&gt;vectors&lt;/strong&gt;. Please keep this mind as we’ll be referring to the columns as vectors from now on.&lt;/p&gt;
&lt;ol start=&#34;2&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Check that its a tibble, which is essentially a data frame but tweaked to make it easier to wrangle.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;is_tibble(nfl2014)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The differences between the two are worth a brief discussion in a data science course, but not here. Some older functions don’t work with tibbles. If you encounter one of these functions, use the command &lt;code&gt;as.data.frame()&lt;/code&gt; to turn a tibble back to a data.frame like so:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;nfl2014_dfonly &amp;lt;- as.data.frame(nfl2014)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Anyway, if you test for both of those and they pass, you will be able to use all of the commands listed above.&lt;/p&gt;
&lt;p&gt;We’ll tweak the second question on the task list a bit to say: “What was the highest and lowest average ticket price for all 2014-2015 NFL games by division?” For this session, we’ll disregard the histogram and answer the question that was asked for on the original.&lt;/p&gt;
&lt;p&gt;To tackle this, let’s think about it logically. Originally you had to&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;inspect the data frame which I called &lt;code&gt;nfl2014&lt;/code&gt;,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;remove the columns with &lt;em&gt;NA&lt;/em&gt;,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;create eight different data frames, one for each division, and&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;derive the mean for each.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;put the values in order.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;That is a lot of steps! Let’s try using pipes to do this instead:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;nfl2014 %&amp;gt;%
  select(Division, `Avg TP, $`) %&amp;gt;%
  group_by(Division) %&amp;gt;%
  na.omit() %&amp;gt;%
  summarize(Mean_by_Division = mean(`Avg TP, $`, na.rm = TRUE)) %&amp;gt;%
  ungroup() %&amp;gt;%
  arrange(desc(Mean_by_Division))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 8 x 2
##   Division  Mean_by_Division
##   &amp;lt;chr&amp;gt;                &amp;lt;dbl&amp;gt;
## 1 NFC North            179. 
## 2 NFC East             173. 
## 3 NFC West             165. 
## 4 AFC North            135. 
## 5 AFC East             127. 
## 6 AFC West             125. 
## 7 NFC South             95.4
## 8 AFC South             83.3&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Well that was MUCH EASIER! Now what happened? Let’s go through it line by line:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;I called the data frame &lt;code&gt;nfl2014&lt;/code&gt;. This was the name given to the csv file when it was brought in.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I selected the two columns I want to know more about. In this case, I can’t compute anything by &lt;code&gt;Division&lt;/code&gt; if I don’t have the numerical data that explains ticket prices &lt;code&gt;Avg TP, $&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Since I need the mean by each &lt;code&gt;Division&lt;/code&gt;, grouping by that vector will allow me to find perform any and all operations by each unique value. In this case we have eight divisions, so well have outcomes for each.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;em&gt;NA&lt;/em&gt;s are a special type of value in R. New users tend to disregard them as blanks or sometimes zeros. However, the name itself &lt;em&gt;NA&lt;/em&gt; means not available aka a missing value. When you see this, it means that R has recognized that a value should be there but its not and depending on the command, it may bring up an error or worst case scenario, an analysis runs and your output is skewed. The command &lt;code&gt;na.omit()&lt;/code&gt; will remove &lt;strong&gt;any row where an&lt;/strong&gt; &lt;em&gt;NA&lt;/em&gt; &lt;strong&gt;is found&lt;/strong&gt;. Please note this differs from removing only rows with &lt;em&gt;NA&lt;/em&gt;s. The distinction, while minute, can have lasting ramifications.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;summarize&lt;/code&gt; tells R that I’m going to reduce the data set using some summary technique. In this case the mean is needed so I constructed a new column named &lt;code&gt;Mean_by_Division&lt;/code&gt; which took the &lt;code&gt;mean&lt;/code&gt; of `&lt;code&gt;Avg TP, $&lt;/code&gt;. Note that since we are using pipes, we do not have to tell R about the name of the data frame. It has been understood since step 1.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;As a good rule of thumb, it is always good to &lt;code&gt;ungroup()&lt;/code&gt; your data because the grouping is information that R retains. R remembers!&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Arrange the &lt;code&gt;Mean_by_Division&lt;/code&gt; vector in decreasing order. The default is increasing.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div id=&#34;on-your-own-3&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;On Your Own 3&lt;/h4&gt;
&lt;center&gt;
&lt;em&gt;Now try doing the same as the above except only for AFC teams.&lt;/em&gt;
&lt;/center&gt;
&lt;p&gt;&lt;br&gt;
&lt;br&gt;
There are a lot of ways to accomplish this, but I would suggest filtering with a string. Take a look at the link and see if you can figure out the command to use.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.exploratory.io/filter-with-text-data-952df792c2ba&#34;&gt;Filter with Text data&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Of course, a solution is below. Again you are learning how to do this so take some time and for many of you, it may be oddly satisfying to find the output you want after being frustrated.
&lt;br&gt;&lt;/p&gt;
&lt;details&gt;
&lt;p&gt;&lt;summary&gt;Possible solution&lt;/summary&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;nfl2014 %&amp;gt;%
select(Division, `Avg TP, $`) %&amp;gt;%
  filter(str_detect(Division, &amp;quot;AFC&amp;quot;)) %&amp;gt;%
  na.omit() %&amp;gt;%
  summarize(AFC_mean = mean(`Avg TP, $`, na.rm = TRUE))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1 x 1
##   AFC_mean
##      &amp;lt;dbl&amp;gt;
## 1     117.&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;task&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Task&lt;/h2&gt;
&lt;p&gt;For this task first download the &lt;a href=&#34;/data/R/drinks2010andBeyond.csv&#34;&gt;&lt;code&gt;drinks2010andBeyond&lt;/code&gt;&lt;/a&gt; data set&lt;a href=&#34;#fn3&#34; class=&#34;footnote-ref&#34; id=&#34;fnref3&#34;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt;. This is an amended version of the average serving sizes per person by country as reported by the World Health Organization (WHO), Global Information System on Alcohol and Health (GISAH) since 2010. If you are interested, please visit the &lt;a href=&#34;https://apps.who.int/gho/data/node.main.GISAH?lang=en&#34;&gt;WHO GISAH site&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In a typical submission&lt;a href=&#34;#fn4&#34; class=&#34;footnote-ref&#34; id=&#34;fnref4&#34;&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt;, you must include&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Your name and task in the top of the script.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Separated solutions in proper numerical order.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Your code.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;An answer to the question.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Remember you can leave text that R will ignore by putting a hashtag # in front of it.&lt;/p&gt;
&lt;p&gt;As an example, if I were to submit the altered item 2 from above, my script would read:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# Abhik Roy
# EDP 613
# Drinks Task

# 1 blah blah blah


# 2
nfl2014 %&amp;gt;%
  select(Division, `Avg TP, $`) %&amp;gt;%
  group_by(Division) %&amp;gt;%
  na.omit() %&amp;gt;%
  summarize(Mean_by_Division = mean(`Avg TP, $`, na.rm = TRUE)) %&amp;gt;%
  ungroup() %&amp;gt;%
  arrange(desc(Mean_by_Division))

# According to the output, the highest average price paid was $170.00 per ticket paid by
# fans the NFC North whereas the lowest average price ticket was paid by attendees who  
# went to games in the AFC South at $83.30.


# 3 blah blah blah&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now please answer the following questions. Please note that all consumption measurements are in liters:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Which country or countries had the highest average consumption of wine and beer in each year?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Which country or countries had the highest average consumption of spirits in each year?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Which country had the highest average consumption of all alcohol across time?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Based on each years average consumption of beer across all counties, how far does the United States deviate from the mean, if at all? Is the mean an appropriate measure of the average here? Why or why not?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Since we measure beer in the United States in ounces (for some reason) rather than in liters, convert the 2016 measures into ounces using the conversion 1 Liter = 33.814022 oz.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Explore the data set a bit and play around with pipes. Provide one outcome you derived not already asked about that you (hopefully) found interesting.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;You can always contact me for help!&lt;/p&gt;
&lt;div style=&#34;page-break-after: always;&#34;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;data-science&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Data Science&lt;/h2&gt;
&lt;p&gt;Data science uses the statistics you will learn in this course and to some degree, in the follow-up course to tackle real life data. According to Glassdoor, the average salary for a data scientist is 113,436 USD (range: 95,000 USD - 250,000 USD; &lt;a href=&#34;https://www.burtchworks.com/wp-content/uploads/2018/05/Burtch-Works-Study_DS-2018.pdf&#34; target=&#34;_blank&#34;&gt;Burtch-Works, 2018&lt;/a&gt;). If you are interested in learning more about Data Science, a course is tentatively scheduled for the Fall 2021 term in addition to Data Visualization in Spring 2021. Both of these courses run very differently from the statistics courses and are focused on exploring data sets of interest to students. If interested, please let me know or stay tuned.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;acknowledgements&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Acknowledgements&lt;/h2&gt;
&lt;p&gt;A great deal of material presented here was adapted from two online texts: &lt;a href=&#34;%22https://ohi-science.org/data-science-training/&#34; target=&#34;_blank&#34;&gt;Introduction to Open Data Science&lt;/a&gt; and &lt;a href=&#34;%22https://r4ds.had.co.nz/%22&#34; target=&#34;_blank&#34;&gt;R for Data Science&lt;/a&gt;. If interested in how R is used in data science, try taking a look. Remember, you never need to memorize code so try not to get overwhelmed!&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;From the FiveThirtyEight &lt;a href=&#34;https://github.com/fivethirtyeight/data/tree/master/nfl-ticket-prices&#34; target=&#34;_blank&#34;&gt;NFL Ticket Prices Github Page&lt;/a&gt;&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;If you are getting an error, remember to point R to the right location by &lt;code&gt;Session &amp;gt; Working Directory &amp;gt; To Source File Location&lt;/code&gt; in the menu.&lt;a href=&#34;#fnref2&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn3&#34;&gt;&lt;p&gt;From the FiveThirtyEight &lt;a href=&#34;https://github.com/fivethirtyeight/data/tree/master/alcohol-consumption&#34; target=&#34;_blank&#34;&gt;Alcohol Consumption Github Page&lt;/a&gt;&lt;a href=&#34;#fnref3&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn4&#34;&gt;&lt;p&gt;This is just for practice so you do not have to turn anything in!&lt;a href=&#34;#fnref4&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>
